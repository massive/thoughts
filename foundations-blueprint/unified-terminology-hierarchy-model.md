# Unified terminology and hierarchy model

## What this is

This RFC establishes a shared vocabulary for describing RELEX's multi-tenant architecture. It resolves the terminology confusion where "customer", "tenant", "instance", and "deployment" meant different things depending on who was speaking.

The core insight: **tenant is the primary operational binding point**, not customer. Operations teams work at tenant level - that's where infrastructure provisioning, access control, and data governance happen. Customer level is for business relationships (contracts, billing, Salesforce), not technical operations.

## The hierarchy

```
Customer (business entity)
    └── Tenant (customer + region + environment type)
            └── Deployment (tenant + system)
                    └── Replica (runtime instances)
```

**Key design decisions:**

1. **Tenant = Customer + Region + Environment Type** - the primary operational boundary
2. **Deployment = Tenant + System** - each system within a tenant has its own deployment
3. **Customer remains the business relationship** - billing, contracts, Salesforce
4. **System-specific infrastructure sits at Deployment level** - not Tenant level

## UUID format

All identifiers at Customer, Tenant, and Deployment levels use UUID V4 format generated by CMT (Configuration Management Tool). UUIDs are the authoritative identifier - display names are for human convenience only.

## Current state

The RFC document lives at `memory/relex-unified-terminology-hierarchy-model.md`. It includes:

- Problem statement and motivation
- The hierarchy model with definitions
- Environment type standardization (dev, test, staging, prod)
- Identifier architecture (UUID hierarchy, display names)
- Three worked examples with ASCII diagrams:
  - Acme Retail (simple single-system)
  - Circle K Europe (multi-tenant, multi-system with qualifiers)
  - MegaCorp Global (data residency requirements)

## Session work (2026-01-12)

Reformatted all ASCII hierarchy diagrams to show UUIDs as properties under each entity rather than inline with the entity name. This makes the hierarchical relationships clearer and treats UUID as an intrinsic property.

Before:
```
Customer: MegaCorp Global (CMT UUID: d940c432-...)
```

After:
```
Customer: MegaCorp Global
├── UUID: d940c432-...
```

Applied this pattern consistently to Customer, Tenant, and Deployment levels across all three example diagrams.

## Related work

- Architecture Board meeting discussions (December 2024)
- UUID RFC (pending approval)
- Confluence page: Foundations working draft (5709890209)
